<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
  
><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Java-Concurrent | æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ</title>

<meta name="generator" content="Hugo Eureka 0.9.3" />
<link rel="stylesheet" href="/css/eureka.min.9cec6350e37e534b0338fa9a085bf06855de3b0f2dcf857e792e5e97b07ea905d4d5513db554cbc26a9c3da622bae92d.css">
<script defer src="/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js"></script>













<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&amp;family=Noto&#43;Serif&#43;SC:wght@400;600;700&amp;display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/base16/solarized-light.min.css"
   media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js"
   crossorigin></script>
  <script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js"
     crossorigin></script>
<link rel="stylesheet" href="/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css" media="print" onload="this.media='all';this.onload=null">


<script defer type="text/javascript" src="/js/fontawesome.min.f14def4f6943de5b19b19c02e239b98c8cc6a8fe66b6828a21da7c0e9d405df8364cab68aa637c3bbe735eb7c325aa3c.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
   integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"  media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" 
  integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY"  crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
   integrity="sha384-&#43;XBljXPPiv&#43;OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"  crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],
    });
  });
</script>


<script defer src="https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js" 
  integrity="sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0"  crossorigin></script>


<link rel="icon" type="image/png" sizes="32x32" href="/img/author_hu46370d4ccd3481872546da16224d0daa_1972225_32x32_fill_box_center_3.png">
<link rel="apple-touch-icon" sizes="180x180" href="/img/author_hu46370d4ccd3481872546da16224d0daa_1972225_180x180_fill_box_center_3.png">

<meta name="description"
  content="å¹¶å‘ç¼–ç¨‹åŸºç¡€">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
      "@type": "ListItem",
      "position": 1 ,
      "name":"Las",
      "item":"/la/"},{
      "@type": "ListItem",
      "position": 2 ,
      "name":"Java-Concurrent",
      "item":"/la/java/%E5%B9%B6%E5%8F%91/"}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/la/java/%E5%B9%B6%E5%8F%91/"
    },
    "headline": "Java-Concurrent | æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ",
    "image": "/la/java/%E5%B9%B6%E5%8F%91/featured.png",
    "datePublished": "2023-10-09T19:49:34+08:00",
    "dateModified": "2023-10-09T19:49:34+08:00",
    "wordCount":  551 ,
    "publisher": {
        "@type": "Person",
        "name": "æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ",
        "logo": {
            "@type": "ImageObject",
            "url": "/img/author.png"
        }
        },
    "description": "å¹¶å‘ç¼–ç¨‹åŸºç¡€"
}
</script><meta property="og:title" content="Java-Concurrent | æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ" />
<meta property="og:type" content="article" />


<meta property="og:image" content="/img/author.png">


<meta property="og:url" content="/la/java/%E5%B9%B6%E5%8F%91/" />



<meta property="og:description" content="å¹¶å‘ç¼–ç¨‹åŸºç¡€" />



<meta property="og:locale" content="en" />




<meta property="og:site_name" content="æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ" />






<meta property="article:published_time" content="2023-10-09T19:49:34&#43;08:00" />


<meta property="article:modified_time" content="2023-10-09T19:49:34&#43;08:00" />



<meta property="article:section" content="la" />


<meta property="article:tag" content="å¹¶å‘ç¼–ç¨‹" />






  <body class="flex min-h-screen flex-col">
    <header
      class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"
    >
      <div class="mx-auto w-full max-w-screen-xl"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    if (((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) || storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="/" class="me-6 text-primary-text text-xl font-bold">æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0">
            <a href="/tags/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">æ ‡ç­¾</a>
            <a href="/la/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  selected-menu-item  me-4">ç¬”è®°</a>
            <a href="/info" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">å…³äº</a>
            <a href="/friend/" class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2  border-transparent  me-4">æœ‹å‹</a>
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    <i class="fas fa-adjust"></i>
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka" name="Light">æµ…è‰²</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Dark">æ·±è‰²</span>
                    <span class="px-4 py-1 hover:text-eureka" name="Auto">è‡ªåŠ¨</span>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    
    let element = document.getElementById('lightDarkMode')
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change', switchDarkMode)
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }

    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
    });
</script>
</div>
    </header>
    <main class="grow pt-16">
        <div class="pl-scrollbar">
          <div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8">
  
  
  <div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12">
    <div
      class="lg:col-start-2 bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"
    >
      <article class="prose">
  <h1 class="mb-4">Java-Concurrent</h1>

  <div
  class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"
>
  <div class="me-6 my-2">
    <i class="fas fa-calendar me-1"></i>
    <span
      >2023-10-09</span
    >
  </div>
  <div class="me-6 my-2">
    <i class="fas fa-clock me-1"></i>
    <span>3 min read</span>
  </div>

  

  
</div>


  
  
    <img src="/la/java/%E5%B9%B6%E5%8F%91/featured.png" class="w-full" alt="Featured Image">
  

  <h1 id="java-å¹¶å‘ç¼–ç¨‹">Java å¹¶å‘ç¼–ç¨‹</h1>
<h3 id="è½»é‡çº§é”">è½»é‡çº§é”ï¼š</h3>
<p>æ£€æŸ¥å½“å‰å¯¹è±¡çš„mark wordæ˜¯å¦æœ‰è¢«å…¶ä»–çº¿ç¨‹å ç”¨ï¼Œå‡å¦‚æ²¡æœ‰å°±ä¼šåœ¨å½“å‰æ ˆå¸§é‡Œé¢å»ºç«‹ä¸€ä¸ª
é”è®°å½•ï¼Œå¤åˆ¶å¹¶å­˜å‚¨å½“å‰å¯¹è±¡çš„mark word ä¿¡æ¯ã€‚</p>
<p>ä¸åƒé‡é‡çº§é”éœ€è¦å‘ç³»ç»Ÿç”³è¯·äº’æ–¥é‡ï¼Œ</p>
<h3 id="casæ— é”ç®—æ³•">CASï¼ˆæ— é”ç®—æ³•ï¼‰</h3>
<p><img src="juc/img_3.png" alt="img_3.png"></p>
<p>æ˜¾ç„¶ï¼Œå½“caså¤±è´¥çš„æ—¶å€™ï¼Œè¯´æ˜æœ‰çº¿ç¨‹è¿›å…¥äº†è¿™ä¸ªåŒæ­¥ä»£ç å—ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè™šæ‹Ÿæœºå°†ä¼šæ£€æŸ¥
å½“å‰å¯¹è±¡çš„mark wordæ˜¯å¦æŒ‡å‘å½“å‰å¯¹è±¡çš„æ ˆå¸§ï¼Œæ˜¯çš„è¯å°±è¯´æ˜å½“å‰å·²ç»è·å¾—é”ï¼Œå¦åˆ™ä¸æ˜¯-ã€‹é€€åŒ–ä¸ºé‡é‡çº§é”(ä¸å¯é€†)
è§£é”æ—¶ï¼ŒåŒæ ·ä½¿ç”¨CASç®—æ³•æ“ä½œï¼ŒåŒæ—¶å”¤é†’æŒ‚èµ·çš„çº¿ç¨‹</p>
<h3 id="åå‘é”">åå‘é”</h3>
<p>å½“æŸä¸ªé”é¢‘ç¹çš„è¢«åŒä¸€ä¸ªçº¿ç¨‹è·å–ï¼Œå¯¹è½»é‡çº§é”è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥åå‘é”ä¸“é—¨ä¸ºå•ä¸ªçº¿ç¨‹æœåŠ¡ï¼Œæ­¤æ—¶ï¼Œæ— é¡»å†è¿›è¡ŒCASæ“ä½œï¼Œå½“å…¶ä»–çº¿ç¨‹
åˆå¼€å§‹æŠ¢é”ï¼Œåå‘é”å¯èƒ½é€€åŒ–ä¸ºè½»é‡çº§é”ã€‚æ³¨æ„å½“è°ƒç”¨å¯¹è±¡çš„hashCodeï¼ˆï¼‰æ–¹æ³•ï¼Œç”±äºmark word æ•°æ®ç»“æ„æ— æ³•
ä¿å­˜hashå€¼ï¼Œåå‘é”ç›´æ¥é€€åŒ–ä¸ºè½»é‡çº§é”ã€‚</p>
<p><b> é”çš„é€€åŒ–ä¸å¯é€†</b></p>
<h3 id="é”æ¶ˆé™¤å’Œé”ä¼˜åŒ–">é”æ¶ˆé™¤å’Œé”ä¼˜åŒ–</h3>
<p>ä»£ç å—ä¸­æœ‰å¯èƒ½ä¸ä¼šæ€»æ˜¯å‡ºç°è¯·æ±‚é”å’Œé‡Šæ”¾é”çš„é—®é¢˜ï¼Œï¼ˆæ¯”å¦‚å¾ªç¯ä¸­åŠ é”ï¼‰ï¼Œæ­¤æ—¶é”ä¸ºäº†ä¼˜åŒ–å‡ºç°é”æ¶ˆé™¤å’Œé”ä¼˜åŒ–</p>
<h2 id="javaå†…å­˜æ¨¡å‹jmm">Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰</h2>
<p><img src="juc/img_6.png" alt="img_6.png"></p>
<p>ä¸»å†…å­˜ï¼š å­˜æ”¾å¯¹è±¡å®ä¾‹çš„éƒ¨åˆ†
å·¥ä½œå†…å­˜ï¼šè™šæ‹Ÿæœºæ ˆçš„éƒ¨åˆ†ï¼Œæ”¾å…¥cpuçš„é«˜é€Ÿç¼“å­˜é‡Œé¢ã€‚ è‡ªå¢æ“ä½œä¸æ˜¯ç”±ä¸€ä¸ªæŒ‡ä»¤å®ç°çš„ï¼ï¼ï¼åŒ…æ‹¬è·å–ï¼Œä¿®æ”¹å’Œä¿å­˜</p>
<pre><code class="language-java">class Test{
  private static volatile int sum=0;//æˆå‘˜å˜é‡,è¿™æ ·çš„å˜é‡å¿…é¡»æ˜¯å½“å‰çš„å¯¹è±¡æ‰€æ‹¥æœ‰çš„
  //åŠ å…¥äº†volatileå…³é”®å­—ä¹‹åï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥æ„ŸçŸ¥å½¼æ­¤çš„å€¼
  @Test
  void LockTestAdd() throws InterruptedException {
    //æ²¡æœ‰åŠ é”çš„æ—¶å€™ï¼Œç”±äºçº¿ç¨‹ä¹‹é—´ä¸èƒ½æ„ŸçŸ¥å¯¹æ–¹çš„å€¼ï¼Œæœ€ç»ˆç»“æ„å¯èƒ½ä¸ä¼šæ˜¯200
    Thread th1 = new Thread(() -&gt; {
      for (int i = 0; i &lt; 100; i++)
        sum++;
    });

    Thread th2 = new Thread(() -&gt; {
      for (int i = 0; i &lt; 100; i++)
        sum++;
    });
    th1.start();
    th2.start();
    Thread.sleep(100);
    System.out.println(sum);
  }
}
</code></pre>
<h3 id="é‡æ’åº">é‡æ’åº</h3>
<p>ç”±äºJVMè™šæ‹Ÿæœºå’Œç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼ŒæŒ‡ä»¤å¯èƒ½å‡ºç°é‡æ’åºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¯èƒ½å‡ºç°ä¸ç¬¦åˆé¢„æœŸçš„æƒ…å†µ</p>
<h3 id="volatileå…³é”®å­—æ— æ³•ä¿è¯åŸå­æ€§ä½†èƒ½ä¿è¯å¯è§æ€§">volatileå…³é”®å­—ï¼ˆæ— æ³•ä¿è¯åŸå­æ€§ï¼Œä½†èƒ½ä¿è¯å¯è§æ€§ï¼‰</h3>
<p><img src="juc/img_7.png" alt="img_7.png"></p>
<p>loadå’Œsaveæ“ä½œï¼Œå°†ä¸»å†…å­˜ä¸­çš„å˜é‡æ‹·è´åˆ°æœ¬åœ°ï¼Œåªå¯¹æœ¬åœ°å˜é‡è¿›è¡Œæ“ä½œã€‚</p>
<p>volatileå®ç°åŸç†å°±æ˜¯æ”¹å˜æˆå‘˜å˜é‡æ—¶ï¼Œsaveçš„å·¥ä½œåŒºçš„å˜é‡æ— æ•ˆã€‚é‡æ–°æ›´æ–°ä¸»å†…å­˜ä¸­çš„å˜é‡å€¼ï¼Œ
volatileå…³é”®å­—ä¼šç¦æ­¢æŒ‡ä»¤é‡æ’åºã€‚</p>
<p><img src="juc/img_8.png" alt="img_8.png"></p>
<pre><code class="language-java">class VolatileTest{
  
private static volatile int sum=0;//æˆå‘˜å˜é‡,è¿™æ ·çš„å˜é‡å¿…é¡»æ˜¯å½“å‰çš„å¯¹è±¡æ‰€æ‹¥æœ‰çš„
    //åŠ å…¥äº†volatileå…³é”®å­—ä¹‹åï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥æ„ŸçŸ¥å½¼æ­¤çš„å€¼,ä½†è¿˜æ˜¯æ— æ³•ä¿è¯åŸå­æ€§æ“ä½œï¼Œä¸èƒ½è¾¾åˆ°é¢„æœŸæ•ˆæœ
    @Test
    void LockTestAdd() throws InterruptedException {
        //æ²¡æœ‰åŠ é”çš„æ—¶å€™ï¼Œç”±äºçº¿ç¨‹ä¹‹é—´ä¸èƒ½æ„ŸçŸ¥å¯¹æ–¹çš„å€¼ï¼Œæœ€ç»ˆç»“æ„å¯èƒ½ä¸ä¼šæ˜¯200
        Thread th1 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++)
                    sum++;
        });
       Thread th2 = new Thread(() -&gt; {
            for (int i = 0; i &lt; 1000; i++) {
                sum++;
            }
        });
        th1.start();
        th2.start();
        Thread.sleep(100);
        System.out.println(sum);
    }
}

</code></pre>
<p>JVMç¼–è¯‘å™¨ä¸‹é¢çš„é¡ºåºæ‰§è¡Œï¼š</p>
<h3 id="happens-before-åŸåˆ™ä¹‹å‰çš„å¯¹ä¹‹åçš„å¯è§">Happens Before åŸåˆ™ï¼ˆä¹‹å‰çš„å¯¹ä¹‹åçš„å¯è§ï¼‰</h3>
<p>ç¨‹åºæ¬¡åºè§„åˆ™ï¼Œç›‘è§†å™¨é”åŸåˆ™ï¼Œvolatileå…³é”®å­—åŸåˆ™ï¼ˆå†™æ“ä½œåœ¨è¯»æ“ä½œä¹‹å‰ï¼‰ï¼Œ</p>
<h4 id="startçº¿ç¨‹å¯åŠ¨è§„åˆ™">start(çº¿ç¨‹å¯åŠ¨è§„åˆ™)</h4>
<p>Açº¿ç¨‹ç”¨startè°ƒç”¨Bçº¿ç¨‹ï¼Œé‚£ä¹ˆAåœ¨Bä¹‹å‰ï¼ˆA happens before Bï¼‰</p>
<h4 id="joinçº¿ç¨‹åŠ å…¥è§„åˆ™">joinçº¿ç¨‹åŠ å…¥è§„åˆ™</h4>
<p>Açº¿ç¨‹joinçº¿ç¨‹Bï¼Œé‚£ä¹ˆBåœ¨Aä¹‹å‰ï¼ˆB happens before Aï¼‰</p>
<h4 id="ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«">ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</h4>
<p>ç¨‹åºè½¯ä»¶ &gt; è¿›ç¨‹ &gt; çº¿ç¨‹</p>
<h3 id="é”çš„æ¡†lock">é”çš„æ¡†ï¼šLock</h3>
<p>ä¸ºäº†ä»£æ›¿ä¼ ç»Ÿçš„synchronized,notify,wait,notifyAllå…³é”®å­—ï¼ŒLockæ¥å£-&gt;ReentrantLockå¯é‡å…¥é”</p>
<p><img src="juc/img_9.png" alt="img_9.png"></p>
<h2 id="å¯é‡å…¥é”æ’ä»–é”">å¯é‡å…¥é”ï¼ˆæ’ä»–é”ï¼‰</h2>
<p>å¤šæ¬¡åŠ é”ï¼Œå…¶ä»–çº¿ç¨‹æƒ³è¦å¾—åˆ°é”éœ€è¦æŠŠå¤šæ¬¡çš„é”é‡Šæ”¾æ‰å¯ä»¥è·å–è¿™æŠŠé”</p>
<p>å½“å­˜åœ¨çº¿ç¨‹æƒ³è¦è·å–é”ä½†æ˜¯é”æ²¡æœ‰é‡Šæ”¾çš„æ—¶å€™ï¼Œæ­¤æ—¶è¿™äº›çº¿ç¨‹å°†ä¼šè¿›å…¥çº¿ç¨‹é˜Ÿåˆ—é‡Œé¢</p>
<h3 id="å…¬å¹³é”å’Œéå…¬å¹³é”aqs">å…¬å¹³é”å’Œéå…¬å¹³é”ï¼ˆAQSï¼‰</h3>
<p><img src="juc/img_10.png" alt="img_10.png"></p>
<p>å…¬å¹³é”å§‹ç»ˆä¿æŒå…ˆåˆ°å…ˆå¾—åˆ°é”ï¼Œéå…¬å¹³é”åˆ™æ˜¯åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰€æœ‰ç­‰å¾…çº¿ç¨‹åŒæ—¶å°è¯•è·å–é”ï¼Œè·å–ä¸åˆ°åˆ™å†æ¬¡è¿›å…¥ç­‰å¾…é˜Ÿåˆ—</p>
<pre><code class="language-txt">ReentrantLock lock=new ReentrantLock(false);//å…¬å¹³é”ä¸ä¸€å®šæ€»æ˜¯ä¿æŒå…¬å¹³ã€‚é˜Ÿåˆ—åŒæ­¥å™¨
        Runnable runnable=()-&gt;{
            System.out.println(Thread.currentThread().getName() + &quot;å¼€å§‹å°è¯•è·å–é”èµ„æº&quot;);
            lock.lock();

            System.out.println(Thread.currentThread().getName() + &quot;æˆåŠŸğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºğŸ˜ºè·å–é”èµ„æº&quot;);
            lock.unlock();
        };

        for (int i = 0; i &lt; 10; i++) {
            new Thread(runnable,&quot;T&quot;+i).start();
        }
</code></pre>
<h3 id="è¯»å†™é”">è¯»å†™é”ï¼š</h3>
<blockquote>
<p>é™¤äº†å¯é‡å…¥é”ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§ç±»å‹çš„é”å«åšè¯»å†™é”ï¼Œå½“ç„¶å®ƒå¹¶ä¸æ˜¯ä¸“é—¨ç”¨ä½œè¯»å†™æ“ä½œçš„é”ï¼Œ
å®ƒå’Œå¯é‡å…¥é”ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œå¯é‡å…¥é”æ˜¯ä¸€ç§æ’ä»–é”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°é”ä¹‹åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¿…é¡»ç­‰å¾…å…¶é‡Šæ”¾é”ï¼Œå¦åˆ™ä¸€å¾‹ä¸å…è®¸è·å–åˆ°é”ã€‚è€Œè¯»å†™é”åœ¨åŒä¸€æ—¶é—´ï¼Œæ˜¯å¯ä»¥è®©å¤šä¸ªçº¿ç¨‹è·å–åˆ°é”çš„ï¼Œå®ƒå…¶å®å°±æ˜¯é’ˆå¯¹äºè¯»å†™åœºæ™¯è€Œå‡ºç°çš„ã€‚</p>
<p>è¯»å†™é”ç»´æŠ¤äº†ä¸€ä¸ªè¯»é”å’Œä¸€ä¸ªå†™é”ï¼Œè¿™ä¸¤ä¸ªé”çš„æœºåˆ¶æ˜¯ä¸åŒçš„ã€‚</p>
<p>è¯»é”ï¼šåœ¨æ²¡æœ‰ä»»ä½•çº¿ç¨‹å ç”¨å†™é”çš„æƒ…å†µä¸‹ï¼ŒåŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŠ è¯»é”ã€‚</p>
<p>å†™é”ï¼šåœ¨æ²¡æœ‰ä»»ä½•çº¿ç¨‹å ç”¨è¯»é”çš„æƒ…å†µä¸‹ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹åŠ å†™é”ã€‚</p>
</blockquote>
<p>æ˜¾ç„¶è¯»é”æ˜¯å¯ä»¥é‡å¤è·å–çš„ä½†æ˜¯å†™é”ä¸èƒ½ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹åŒæ—¶æ‹¥æœ‰å†™é”å’Œè¯»é”çš„æ—¶å€™ï¼Œå…ˆç”³è¯·è¯»é”
ç„¶åé‡Šæ”¾å†™é”ï¼Œæ­¤æ—¶å…¶ä»–çš„çº¿ç¨‹åˆå¯ä»¥è·å–è¯»é”ï¼Œåªå‰©ä¸‹è¯»é”ï¼Œæ­¤æ—¶ç§°ä¹‹ä¸ºâ€œé”é™çº§â€ã€‚
åœ¨ä»…ä»…æŒæœ‰è¯»é”çš„æ—¶å€™å»ç”³è¯·å†™é”ï¼Œç§°ä¸ºâ€œé”å‡çº§â€ï¼Œè¿™æ—¶å€™ReentryReadWriteLockç±»ä¸æ”¯æŒã€‚</p>
<h3 id="é˜Ÿåˆ—åŒæ­¥å™¨aqsabstractqueuedsynchronizer">é˜Ÿåˆ—åŒæ­¥å™¨AQSï¼ˆAbstractQueuedSynchronizerï¼‰</h3>
<p>ç»§æ‰¿å…³ç³»ï¼šLock-&gt; Sync -&gt; AbstractQueuedSynchronizer</p>
<h3 id="å¤šçº¿ç¨‹å¹¶å‘ç¯å¢ƒä¸‹çš„abaé—®é¢˜">å¤šçº¿ç¨‹å¹¶å‘ç¯å¢ƒä¸‹çš„ABAé—®é¢˜</h3>
<pre><code class="language-java">//ABAé—®é¢˜çš„ç‰ˆæœ¬å·è§£å†³æ–¹æ³•
        AtomicReference&lt;String&gt; atomicReference=new AtomicReference&lt;&gt;(&quot;A&quot;);
        System.out.println(atomicReference.compareAndSet(&quot;a&quot;, &quot;c&quot;));
        String hello = &quot;hello&quot;;
        String world = &quot;world&quot;;

        Runnable r=()-&gt;{
            System.out.println(atomicReference.compareAndSet(&quot;A&quot;, &quot;B&quot;));
        };
        for (int i = 0; i &lt; 100; i++) {
            new Thread(r).start();
        }
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å¤šä¸ªçº¿ç¨‹å°è¯•å»ä¿®æ”¹çš„æ—¶å€™å‡ºç°äº†ä¸€ä¸ªtrue</p>
<p>è§£å†³åŠæ³•ï¼šæ·»åŠ ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡ä¿®æ”¹çš„æ—¶å€™å¯¹ç‰ˆæœ¬å·ï¼ˆstampï¼‰è¿›è¡Œä¿®æ­£</p>
<h2 id="å¹¶å‘å®¹å™¨">å¹¶å‘å®¹å™¨</h2>
<p>æ¯”å¦‚åœ¨å¯¹é“¾è¡¨æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰å®Œæˆå¯¹é“¾è¡¨æ‰©å®¹ä¹‹å‰ï¼Œå…¶ä»–çº¿ç¨‹æ’é˜Ÿï¼Œéæ³•æ’å…¥å…ƒç´ ï¼Œå°±ä¼šé€ æˆæ•°ç»„è¶Šç•Œçš„æŠ¥é”™ã€‚</p>
<ul>
<li>ConcurrentHashMap:åœ¨jdk1.7ä¹‹å‰çš„å®ç°æ–¹æ³•ï¼Œæ¯”å¦‚åœ¨åŸå­ç±»é‡Œé¢å®ç°LongAdderå…·æœ‰å‹åŠ›åˆ†æ•£çš„æ€æƒ³ï¼Œæé«˜äº†æ€§èƒ½ï¼Œé€‰æ‹©å°†æ•°æ®ä¸€æ®µä¸€æ®µçš„å­˜å‚¨ï¼Œè¿™æ ·å°±å‡å°‘äº†ç­‰å¾…ï¼Œå½“çº¿ç¨‹è®¿é—®é”çš„æ—¶å€™åªå ç”¨é”çš„ä¸€å°éƒ¨åˆ†</li>
<li>jdk8ä¹‹åï¼Œå®ç°æ–¹æ³•æ˜¯é€šè¿‡casç®—æ³•é…åˆé”æœºåˆ¶å®ç°çš„ã€‚ç”±äºHashMapåˆ©ç”¨äº†å“ˆå¸Œè¡¨ï¼Œå®¹é‡è¶Šå¤§ï¼ŒåŠ é”çš„ç²’åº¦å°±ä¼šè¶Šç»†ã€‚</li>
</ul>
<pre><code class="language-java">//åŸå­ç±»çš„æµ‹è¯•æ“ä½œ
        //ABAé—®é¢˜çš„ç‰ˆæœ¬å·è§£å†³æ–¹æ³•
        CopyOnWriteArrayList&lt;Object&gt; objects = new CopyOnWriteArrayList&lt;&gt;();
        //è¯»å–ä¸åŠ é”ï¼Œå†™æ•°æ®éœ€è¦åŠ é”ï¼Œæ‰€ä»¥æ€§èƒ½è¿˜è¡Œ
        //ä¸“ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®¹å™¨
        LinkedList&lt;Object&gt; list = new LinkedList&lt;&gt;();//æ²¡æœ‰å‘ç”Ÿå¹¶å‘å¼‚å¸¸
        ArrayList&lt;Object&gt; list1 = new ArrayList&lt;&gt;();
        ConcurrentHashMap&lt;Integer, String&gt; map = new ConcurrentHashMap&lt;&gt;();
        HashMap&lt;Integer, String&gt; hashMap = new HashMap&lt;&gt;();
        Runnable r=()-&gt;{
            for (int j = 0; j &lt; 100; j++) {
                int finalI=j;
                objects.add(&quot;aaa&quot;);
                map.put(finalI,&quot;aaa&quot;);
                hashMap.put(finalI,&quot;aaa&quot;);
            }
        };
        for (int i = 0; i &lt; 100; i++) {
            new Thread(r).start();
        }
        TimeUnit.SECONDS.sleep(1);
</code></pre>
<h3 id="é˜»å¡é˜Ÿåˆ—blokingqueue">é˜»å¡é˜Ÿåˆ—ï¼ˆBlokingQueueï¼‰</h3>
<p>ç”Ÿäº§è€…æ¶ˆè´¹ä¹‹æ¨¡å‹ï¼š</p>
<pre><code class="language-java"> //æµ‹è¯•é˜»å¡é˜Ÿåˆ—å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹
        BlockingQueue&lt;Object&gt; queue=new ArrayBlockingQueue&lt;&gt;(1);//çª—å£åªèƒ½æ”¾ä¸€ä¸ªèœï¼Œé˜»å¡é˜Ÿåˆ—çš„å®¹é‡
        Runnable supplier=()-&gt;{
          while (true){
              try {
                  String name = Thread.currentThread().getName();
                  System.err.println(time()+&quot;ç”Ÿäº§è€…&quot;+name+&quot;æ­£åœ¨å‡†å¤‡é¤å“&quot;);
                  TimeUnit.SECONDS.sleep(3);
                  System.err.println(time()+&quot;ç”Ÿäº§è€…&quot;+name+&quot;å·²å‡ºé¤&quot;);
                  queue.put(new Object());
              }catch (InterruptedException e){
                  e.printStackTrace();
                  break;
              }
          }
        };

        Runnable consumer=()-&gt;{
            while (true){
                try {
                    String name = Thread.currentThread().getName();
                    System.out.println(time()+&quot;æ¶ˆè´¹è€…&quot;+name+&quot;æ­£åœ¨ç­‰å¾…é¤å“&quot;);
                    queue.take();
                    System.out.println(time()+&quot;æ¶ˆè´¹è€…&quot;+name+&quot;å·²å–é¤&quot;);
                    TimeUnit.SECONDS.sleep(4);
                    System.out.println(time()+&quot;æ¶ˆè´¹è€…&quot;+name+&quot;å·²åƒå®Œ&quot;);
                }catch (InterruptedException e){
                    e.printStackTrace();
                    break;
                }
            }
        };
        for (int i = 0; i &lt; 2; i++) {
            new Thread(supplier,&quot;supplier&quot;+i).start();
        }
        for (int i = 0; i &lt; 3; i++) {
            new Thread(consumer,&quot;consumer&quot;+i).start();
        }
    }
    public static String time(){
        SimpleDateFormat format = new SimpleDateFormat(&quot;HH:mm:ss&quot;);
        return &quot;[&quot;+format.format(new Date())+&quot;]&quot;;
    }
</code></pre>
<p>å¸¸è§çš„é˜»å¡é˜Ÿåˆ—ï¼šArrayBlokingQueue(æœ‰ç•Œç¼“å†²é˜»å¡é˜Ÿåˆ—),SynchronousQueue(æ— ç¼“å†²é˜»å¡é˜Ÿåˆ—),LinkedBlokingQueue(æ— ç•Œå¸¦ç¼“å†²é˜»å¡é˜Ÿåˆ—)</p>
<pre><code class="language-java">public boolean offer(E e) {
        Objects.requireNonNull(e);//æ£€æŸ¥å½“å‰çš„é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
        final ReentrantLock lock = this.lock;//å¯¹å½“å‰çº¿ç¨‹åŠ é”
        lock.lock();
        try {
            if (count == items.length)
                return false;
            else {
                enqueue(e);
                return true;
            }
        } finally {
            lock.unlock();
        }
    }
</code></pre>
<pre><code class="language-java">public E take() throws InterruptedException {
        final ReentrantLock lock = this.lock;
        lock.lockInterruptibly();
        try {
            while (count == 0)
                notEmpty.await();//å½“å½“å‰çº¿ç¨‹è¯»å–åˆ°é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œç”±äºtakeæ“ä½œæ—¶é˜»å¡çš„ï¼Œéœ€è¦æŒ‚èµ·å½“å‰çº¿ç¨‹ï¼Œç­‰å¾…ç›´åˆ°é˜Ÿåˆ—é‡Œé¢æœ‰å€¼
            return dequeue();
        } finally {
            lock.unlock();
        }
    }
</code></pre>
<h4 id="synchronousqueueæ²¡æœ‰ä»»ä½•å®¹é‡æ’å…¥å’Œå–å‡ºæ˜¯ä¸€ä¸€å¯¹åº”çš„">SynchronousQueue(æ²¡æœ‰ä»»ä½•å®¹é‡ï¼Œæ’å…¥å’Œå–å‡ºæ˜¯ä¸€ä¸€å¯¹åº”çš„)</h4>
<pre><code class="language-java">SynchronousQueue&lt;String&gt; queue=new SynchronousQueue&lt;&gt;();
        new Thread(()-&gt;{
            try {
                System.out.println(queue.take());
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
        }).start();
        queue.put(&quot;sss&quot;);
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæŠ½è±¡ç±»Transferï¼ˆputå’Œtakeæ“ä½œç³…åˆåœ¨ä¸€èµ·äº†ï¼‰ï¼Œ
é‡Œé¢æœ‰ä¸€ä¸ªæ–¹æ³•ï¼štransferï¼ˆE e,bolean timed,long nanosï¼‰ç›´æ¥é€šè¿‡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å‹æ¥å®ç°æ•°æ®çš„ä¼ é€’ã€‚
å½“æ–°çš„å…ƒç´ putè¿›å»çº¿ç¨‹å°†ä¼šé˜»å¡ã€‚ç›´åˆ°å…ƒç´ è¢«takeã€‚åŒæ—¶è¿™ä¸ªç±»ç»´æŠ¤äº†å…¬å¹³é”å’Œéå…¬å¹³é”ä¸¤ç§æ–¹æ³•ã€‚</p>
<blockquote>
<p><img src="juc/tansfer.png" alt="image.png"></p>
</blockquote>
<p>å½“å½“å‰é˜Ÿåˆ—é‡Œé¢æœ‰å…ƒç´ ä½†æ˜¯æ²¡æœ‰çº¿ç¨‹æ¥å–å…ƒç´ æ—¶å€™ï¼Œå°±ä¼šå¼€å¯è‡ªæ—‹ï¼Œå½“è‡ªæ—‹ä¸€å®šæ¬¡æ•°ä¹‹åè¿˜æ²¡æœ‰æ¥å–å°±ä¼šæŒ‚èµ·</p>
<h5 id="priorityblockingqueueä¼˜å…ˆé˜Ÿåˆ—">PriorityBlockingQueueä¼˜å…ˆé˜Ÿåˆ—</h5>
<p>æ„é€ æ–¹æ³•ï¼šPriorityQueue<Integer> queue=new PriorityQueue<Integer>(10,Integer::compare);</p>
<p>ä¼ å…¥å®¹é‡å’Œå‡½æ•°é€»è¾‘ï¼ˆä¼˜å…ˆé€»è¾‘ï¼‰</p>
<h4 id="delayqueueå»¶æ—¶é˜Ÿåˆ—">DelayQueueå»¶æ—¶é˜Ÿåˆ—</h4>
<p>ç‰¹æ®Šåœ°æ–¹ï¼šå­˜å‚¨çš„å…ƒç´ å¿…é¡»æ˜¯ç»§æ‰¿è‡ªDelayedæ¥å£çš„ç±»ï¼ŒåŒæ—¶å…ƒç´ ç±»å¿…é¡»å®ç°Delayedæ¥å£ã€‚</p>
<p>ä½¿ç”¨æ—¶å¯ä»¥å®ç°å»¶æ—¶å‡ºé˜Ÿï¼ŒæŒ‰ç…§åŒæ—¶çš„æ—¶å€™æŒ‰ç…§ä¼˜å…ˆçº§ï¼ˆè‡ªå·±å®ç°ï¼‰è¿›è¡Œå‡ºé˜Ÿï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ç¼“å­˜äº†ã€‚</p>
<p>åº•å±‚å®ç°ï¼š</p>
<pre><code class="language-java">  public class DelayQueue&lt;E extends Delayed&gt; extends AbstractQueue&lt;E&gt;
        implements BlockingQueue&lt;E&gt; {
    private final transient ReentrantLock lock = new ReentrantLock();
    private final PriorityQueue&lt;E&gt; q = new PriorityQueue&lt;E&gt;();  //é€šè¿‡å†…éƒ¨ç»´æŠ¤çš„ä¼˜å…ˆé˜Ÿåˆ—æ¥å®ç°å…ƒç´ çš„å­˜å‚¨ï¼Œè€Œä¸æ˜¯æœ¬èº«è¿›è¡Œå­˜å‚¨
}
</code></pre>
<h4 id="ä¸»è¦å¸¸è§çš„é˜»å¡é˜Ÿåˆ—æ€»ç»“å¦‚ä¸‹">ä¸»è¦å¸¸è§çš„é˜»å¡é˜Ÿåˆ—æ€»ç»“å¦‚ä¸‹ï¼š</h4>
<ul>
<li>ArrayBlokingQueueåº•å±‚é€šè¿‡æ•°ç»„å®ç°çš„é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥è®¾ç½®åˆå§‹çš„å®¹é‡ï¼Œæ¢å¥è¯å®¹é‡æ˜¯å›ºå®šçš„</li>
<li>LinkedTransferQueue</li>
<li>SynchronousQueueè¦æ±‚å…¥é˜Ÿå’Œå‡ºé˜Ÿå¿…é¡»åŒæ—¶è¿›è¡Œï¼Œä¸€ä¸€å¯¹åº”ï¼ŒåŸå› æ˜¯å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæŠ½è±¡ç±»tansferï¼Œéœ€è¦ç­‰åˆ°æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…åŒæ—¶åˆ°é½æ‰å¯ä»¥å®Œæˆäº¤æ¥å·¥ä½œï¼Œæ”¯æŒå…¬å¹³å’Œéå…¬å¹³</li>
<li>PriorityBlokingQueueä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…ƒç´ çš„è·å–é¡ºåºæŒ‰ç…§ä¼˜å…ˆçº§å†³å®š</li>
<li>DelayQueueèƒ½å¤Ÿå®ç°å»¶è¿Ÿè·å–å…ƒç´ ï¼ŒåŒæ ·æ”¯æŒä¼˜å…ˆçº§ï¼Œè¦æ±‚åŠ å…¥çš„å…ƒç´ å¿…é¡»ç»§æ‰¿Delayedæ¥å£</li>
</ul>
<h3 id="æ•°æ®å­—å…¸">æ•°æ®å­—å…¸</h3>
<p>å¸¸è§çš„å¸¸ç”¨çš„æ•°æ®ï¼Œå…·æœ‰åˆ†çº§çš„ç‰¹ç‚¹ï¼Œç°åœ¨å°†æ¯”å¦‚çœä»½å¿å¸‚åœ°ç‚¹çš„ä¿¡æ¯ç»´æŠ¤æˆä¸€å¼ è¡¨å°±å¯ä»¥æ˜¯å®ç°
æ®å­—å…¸ï¼Œé€šå¸¸å…·æœ‰idï¼Œparent_idè¿™äº›å­—æ®µï¼Œç»´æŠ¤çˆ¶çº§å’Œå­çº§çš„å…³ç³»ã€‚</p>
<p>å…³äºElementUiçš„æ•°æ®å­—å…¸çš„æ˜¾ç¤ºæ–¹æ³•å°±æ˜¯æ£€æŸ¥hasChildrenå­—æ®µçš„å€¼è¿›è¡Œæ¸²æŸ“</p>
<h3 id="çº¿ç¨‹æ± ">çº¿ç¨‹æ± </h3>
<p>å¼•å…¥åŸå› ï¼šé¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹å¯¹ç³»ç»Ÿèµ„æºçš„æµªè´¹ååˆ†ä¸¥é‡ï¼Œä¸ºäº†åˆç†åˆ†é…å’Œè°ƒç”¨ç³»ç»Ÿèµ„æºï¼Œäº§ç”Ÿäº†çº¿ç¨‹æ± çš„æŠ€æœ¯</p>
<p>å®ç°åŸç†ï¼šå°†å·²åˆ›å»ºçš„çº¿ç¨‹å¤ç”¨ï¼Œåˆ©ç”¨æ± åŒ–æŠ€æœ¯ï¼Œå°±åƒæ•°æ®åº“è¿æ¥æ± ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºå¾ˆå¤šä¸ªçº¿ç¨‹ï¼Œç„¶ååå¤åœ°ä½¿ç”¨è¿™äº›çº¿ç¨‹ï¼Œè€Œä¸å¯¹å®ƒä»¬è¿›è¡Œé”€æ¯ã€‚</p>
<p>ç”±äºçº¿ç¨‹æ± å¯ä»¥åå¤åˆ©ç”¨å·²æœ‰çº¿ç¨‹æ‰§è¡Œå¤šçº¿ç¨‹æ“ä½œï¼Œæ‰€ä»¥å®ƒä¸€èˆ¬æ˜¯æœ‰å®¹é‡é™åˆ¶çš„ï¼Œå½“æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äºå·¥ä½œçŠ¶æ€æ—¶ï¼Œé‚£ä¹ˆæ–°çš„å¤šçº¿ç¨‹è¯·æ±‚ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªçº¿ç¨‹ç©ºé—²å‡ºæ¥ä¸ºæ­¢ï¼Œå®é™…ä¸Šè¿™é‡Œå°±ä¼šç”¨åˆ°æˆ‘ä»¬ä¹‹å‰è®²è§£çš„é˜»å¡é˜Ÿåˆ—ã€‚</p>
<p><img src="juc/ThreadPool.png" alt="image.png"></p>

</article>


      
        <div class="my-4">
    
    <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#å¹¶å‘ç¼–ç¨‹</a>
    
</div>
      

      



      

      
  <div
    class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"
  >
    <div>
      
        <span class="text-primary-text block font-bold"
          >Previous</span
        >
        <a href="/la/java/%E8%BF%9B%E9%98%B6/" class="block">å¹¶å‘è¿›é˜¶</a>
      
    </div>
    <div class="mt-4 md:mt-0 md:text-right">
      
        <span class="text-primary-text block font-bold">ä¸‹ä¸€ç¯‡</span>
        <a href="/la/%E6%9D%82%E8%AE%B0/" class="block">ç§‘å­¦ä¸Šç½‘</a>
      
    </div>
  </div>


      



    </div>
    

    
    
  </div>

  
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        hljs.highlightAll();
      });
    </script>

          </div>
        </div>
      
    </main>
    <footer class="pl-scrollbar">
      <div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b">
    <p class="text-sm text-tertiary-text">&copy; 2023 <a href="https://todreamr.github.com/">æ˜¥æ±ŸèŠ±æœç§‹æœˆå¤œ</a> and <a href="https://www.ruiqima.com/">MA Ruiqi</a>
 &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</div></div>
    </footer>
  </body>
</html>
